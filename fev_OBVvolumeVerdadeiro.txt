{
  Estratégia: fev_OBVvolumeVerdadeiro
  Autor: Wesley
  Descrição: Indicador de Saldo de Volume (OBV) Puro.
             Utilizado para identificar fluxo imediato (Acumulação vs Distribuição).
             
  Lógica:
  - Linha Colorida: O próprio OBV.
  
  Interpretação:
  - OBV Subindo (Verde): Pressão de Compra.
  - OBV Caindo (Vermelho): Pressão de Venda.
}

Var
  vOBV      : Real;
  corAlta   : Integer;
  corBaixa  : Integer;
  corNeutra : Integer;

Begin
  // --- DEFINIÇÃO DE CORES ---
  corAlta   := RGB(0, 255, 0);   // Verde (Compradores no controle)
  corBaixa  := RGB(255, 0, 0);   // Vermelho (Vendedores no controle)
  corNeutra := RGB(105, 105, 105); // Cinza (Neutro)

  // --- CÁLCULOS ---
  vOBV := OBV;

  // --- PLOTAGEM ---
  Plot(vOBV);

  // --- ESTILIZAÇÃO ---
  SetPlotWidth(1, 2);       // OBV mais grosso

  // --- REGRA DE COLORAÇÃO ---
  PaintBar(corNeutra); // Pinta tudo de cinza por padrão

  // Só aplica coloração se NÃO for o primeiro candle do dia
  if (Date = Date[1]) then
  begin
    if (vOBV > vOBV[1]) then
    begin
      SetPlotColor(1, corAlta); // Pinta a linha do indicador
      PaintBar(corAlta);        // Pinta o candle no gráfico de preço
    end
    else if (vOBV < vOBV[1]) then
    begin
      SetPlotColor(1, corBaixa); // Pinta a linha do indicador
      PaintBar(corBaixa);        // Pinta o candle no gráfico de preço
    end;
  end;
End;