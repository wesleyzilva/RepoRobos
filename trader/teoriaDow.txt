Princípio de Dow	Tradução no seu Código
Tendência Primária	vMME240 (Média do 60min). O preço deve estar acima dela.
Tendência Secundária	vMME60 (Média do 15min). Filtra ruídos médios.
Tendência Terciária	vMME20 (Média do 5min). O gatilho rápido.
Confirmação	if (Close > vMME20) and (Close > vMME60) and (Close > vMME240)
Reversão (Saída)	if (Close < vHiLo) then ClosePosition; (O HiLo detecta a mudança da "escadinha").

A Lógica: O robô tenta evitar "brigar com o mercado". Ele só entra na operação quando três tempos gráficos concordam com a mesma direção:
Longo Prazo (A Maré): Ele olha a média de 60 minutos (1 hora). Se o preço está acima dela, a tendência macro é de alta.
Médio Prazo (A Onda): Ele confirma com a média de 15 minutos.
Curto Prazo (A Marola): Ele usa o gráfico de 5 minutos para o "tiro" de entrada.
O Gatilho: A compra só acontece quando o preço no 5 minutos rompe para cima, estando simultaneamente acima das médias de 15 min e 60 min. Isso aumenta muito a chance de acerto, pois você tem o fluxo de curto, médio e longo prazo empurrando o preço.

--------------------------------------------------------------------------------
Princípio: As 3 Fases da Tendência
1. Acumulação: Onde os "insiders" compram. O mercado está lateral. Seus robôs evitam essa fase exigindo médias inclinadas/alinhadas.
2. Participação Pública: O rompimento. É aqui que o Shazam entra (Breakout). O preço explode e as médias se abrem.
3. Distribuição: Onde os grandes vendem. O mercado fica volátil mas não sai do lugar. O HiLo geralmente tira você aqui.

Princípio: O Volume deve confirmar
Tradução no Código: vCorpoCandle > (vRangeTotal * 0.60). 
Explicação: Dow dizia que volume alto valida a alta. Seu código usa o "Tamanho do Corpo" como proxy. Se o candle é grande e fecha na máxima, teve volume e agressão.

Princípio: A Tendência vigora até ser substituída
Tradução no Código: Trailing Stop e Close < vHiLo.
Explicação: Não tentamos adivinhar o topo. Deixamos o preço subir até que ele bata no Stop Móvel (Trailing). O lucro é maximizado pela paciência, não pela adivinhação.

Princípio: O Preço Desconta Tudo (Price Discounts Everything)
Tradução no Código: Ignoramos notícias externas, focamos no Gráfico.
Explicação: Todas as notícias, medos e expectativas já estão embutidos no preço atual. Se o mercado cair por uma notícia ruim, seu robô verá o preço cruzando a média para baixo e sairá. Não é preciso "ler jornal" para o robô funcionar.

Princípio: A Importância do Preço de Fechamento
Tradução no Código: if (Close > vMME20)...
Explicação: Dow acreditava que o preço de fechamento era o mais importante, pois representa o consenso final do dia (ou do candle). Sombras (pavios) são apenas ruído emocional. Seus robôs só tomam decisão quando o candle FECHA confirmando a direção.

Princípio: Os Índices devem se confirmar (Correlação)
Tradução no Código: Não existe (Ponto Cego).
Explicação: Dow exigia que Indústria e Transporte subissem juntos. No Day Trade, idealmente Índice sobe e Dólar cai. Como o robô só olha o gráfico do Índice, ele usa o Stop Loss para se proteger caso essa correlação falhe (ex: Índice subir falso enquanto Blue Chips caem).

Conceito: As "Linhas" (Lateralização)
Tradução no Código: Filtro de Médias (20, 60, 240).
Explicação: Dow chamava de "Linhas" quando o preço andava de lado. É a fase mais difícil de operar. Seu robô evita isso exigindo que as médias estejam abertas e alinhadas (em leque), o que matematicamente não acontece dentro de uma lateralização estreita.

Limitação Importante: O Atraso (Lag)
Tradução no Código: Entradas após o cruzamento de médias.
Explicação: A Teoria de Dow não busca comprar o fundo exato (o preço mais barato) nem vender o topo exato. Ela busca a "carne" do movimento (o meio). Por isso, o robô sempre entrará um pouco "atrasado" em relação ao fundo absoluto. Isso é o preço que se paga pela segurança da confirmação.

Conclusão Final
Seus robôs (Shazam/Fibo) são a automação da disciplina. A Teoria de Dow funciona há 100 anos porque a psicologia humana (medo e ganância) não muda. O robô remove a hesitação humana: se a tendência (Dow) está confirmada matematicamente, ele executa.

--------------------------------------------------------------------------------
ONDE A TEORIA DE DOW NÃO FUNCIONA (PONTOS CEGOS)

1. Mercados Laterais ("Linhas"): É o maior inimigo. Médias móveis cruzam repetidamente sem direção, gerando prejuízos sequenciais ("Violinadas").
2. Reversões em "V": Quando o mercado cai muito rápido e sobe muito rápido (sem fazer pivô), a Teoria de Dow falha em pegar o início da volta. Devido ao "Lag" de confirmação, o robô entra quando o movimento já está na metade.
3. Ruído de Curto Prazo (1 min): Em tempos gráficos muito curtos, a aleatoriedade supera a tendência. A Teoria de Dow precisa de "massa" e tempo para validar uma direção.
4. Notícias de Impacto Imediato (Payroll/Calls): O preço desconta tudo, mas o "gap" de liquidez pode pular seu stop antes que a teoria confirme a saída.

--------------------------------------------------------------------------------
COMO RESOLVER OS PONTOS CEGOS (SOLUÇÕES PRÁTICAS)

1. Para Lateralidade:
   - Solução: Filtro de "Leque". Só opere se as médias estiverem abertas e na ordem certa (20 > 60 > 240). Se estiverem emboladas, o robô deve ficar desligado.
   - Ferramenta Extra: Bandas de Bollinger. Se as bandas estreitarem (Squeeze), aguarde a explosão antes de entrar.

2. Para Reversão em "V":
   - Solução: Aceite o atraso. Tentar pegar a "faca caindo" quebra a conta. É o custo do seguro.

3. Para Ruído e Notícias:
   - Solução: Mantenha a disciplina dos Fractais (5m + 15m + 60m) e use Filtros de Horário para evitar a abertura de NY (09:30-10:00) em dias instáveis.

--------------------------------------------------------------------------------
INDICADORES E CONFIRMADORES PARA OS PONTOS CEGOS

1. ADX (Average Directional Index) - O "Juiz" da Tendência
   - Função: Diz se existe tendência ou não.
   - Uso: Se ADX < 20, o mercado está lateral. A Teoria de Dow não funciona. Não opere rompimento.

2. VWAP (Preço Médio Ponderado por Volume) - O "Rastro" Institucional
   - Função: Mostra o preço médio dos grandes players do dia.
   - Uso: Em reversões "V", o preço costuma buscar a VWAP. Funciona como um ímã e suporte/resistência primário.

3. ATR (Average True Range) - O Medidor de Ruído
   - Função: Mede a volatilidade em pontos.
   - Uso: Se o ATR subir demais (ex: notícias), aumente seu stop ou reduza a mão. Ajuda a não ser "violinado" pelo ruído.